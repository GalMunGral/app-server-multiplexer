<div class="cell" fxLayout="row" fxLayoutAlign="start start">
  <div fxFlex="0 0 auto" class="profile-picture"></div>
  
  <div fxFlex="auto">
    <p class="title">
      <span class="username">{{comment.author}}</span>
      <span class="timestamp">{{comment.timestamp | date}}</span>
    </p>
    <!-- content starts -->
    <p class="content">{{comment.content}}</p>
    <!-- content ends -->
    <div class="button-groups" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
      <mat-icon>thumb_up</mat-icon>
      <span>{{comment.likes}}</span>
      <mat-icon>thumb_down</mat-icon>
      <button mat-button (click)="editing = true;">REPLY</button>
    </div>

    <div *ngIf="comment.replies">
      <div *ngIf="!expanded"
        class="expand-button" fxLayout="row" fxLayoutAlign="start center"
        (click)="expanded = true;">
        <span ><b>View {{comment.replies.length}} replies</b></span>
        <mat-icon>expand_more</mat-icon>
      </div>
      <div *ngIf="expanded"
        class="expand-button" fxLayout="row" fxLayoutAlign="start center"
        (click)="expanded = false;">
        <span ><b>Hide replies</b></span>
        <mat-icon>expand_less</mat-icon>
      </div>
      <div *ngIf="expanded">
        <app-comment-list [comments]="comment.replies"></app-comment-list>
      </div>
    </div>
    
    <app-comment-input *ngIf="editing" [typing]="true" (finished)="editing = false;"></app-comment-input>

  </div>
</div>

